Android Bridge APK — “Samsung Health Daily Exporter”
Purpose

A tiny Android app that reads daily summary data from Samsung Health (steps, sleep sessions, heart rate summary if available) and POSTs it once per day to your server endpoint. No UI beyond initial permission setup. No local history. No dedupe. If it fails today, it tries again tomorrow.

Requirements

Runs on Android phone (same phone that has Samsung Health + watch sync)

Samsung Health installed and user logged in

App requests read permissions once at setup

Scheduled job runs once per day (WorkManager)

Data to export (v0)

Daily summary payload (for “yesterday” by default):

date (YYYY-MM-DD) — the day being reported

steps_total (int)

sleep_sessions (list)

each session: start_time, end_time, duration_minutes (and optionally stages if available later)

heart_rate_summary (optional; include only if easy)

resting_hr (int) OR avg_hr (int) OR min_hr / max_hr — whichever Samsung exposes reliably

source metadata:

source_app = "samsung_health"

device_id (stable random UUID generated by app on first run)

collected_at (ISO timestamp)

schema_version (e.g. 1)

Schedule behavior

WorkManager job runs daily at a stable time (e.g. 02:30 local time)

It reports “yesterday” (so the day is complete)

If the job fails (no network, permission error), it logs and exits; next scheduled run continues

Networking

HTTP POST to your API endpoint:

POST /v1/ingest/shealth/daily

Auth:

simplest: static X-API-Key header stored in app build config

Timeout + retry:

short timeout

let WorkManager handle retry with backoff

Minimal UI

One setup screen:

“Grant Samsung Health permissions”

“Test connection” (optional)

“Done”

After setup, app can be effectively invisible

Non-goals (explicit)

No intraday snapshots

No deduplication logic

No dashboards

No complex configuration

Output JSON example
{
  "schema_version": 1,
  "date": "2026-02-10",
  "steps_total": 7423,
  "sleep_sessions": [
    {
      "start_time": "2026-02-10T00:48:00+00:00",
      "end_time": "2026-02-10T08:12:00+00:00",
      "duration_minutes": 444
    }
  ],
  "heart_rate_summary": {
    "resting_hr": 62
  },
  "source": {
    "source_app": "samsung_health",
    "device_id": "b7b8f4c7-22e8-4c0e-bc2a-3a9c79b3a2f2",
    "collected_at": "2026-02-11T02:31:05+00:00"
  }
}